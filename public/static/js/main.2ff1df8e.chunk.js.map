{"version":3,"sources":["services/SocketProvider.js","pages/Menu/Menu.js","components/CameraBox/CameraBox.js","components/Header/Header.js","components/TimelapseCamControls/TimelapseCamControls.js","components/SecondsTimePicker/SecondsTimePicker.js","components/TimelapseOptions/TimelapseOptions.jsx","components/ItemList/ItemList.jsx","components/PointsManager/PointsManager.js","components/AxisControl/AxisControl.jsx","components/MotorControl/MotorControl.jsx","components/TimelapsePoints/TimelapsePoints.js","pages/Timelapse/Timelapse.js","services/util.js","components/PanoramaOptions/PanoramaOptions.jsx","components/Waterscale/Waterscale.jsx","pages/Panorama/Panorama.jsx","pages/Movie/Movie.js","components/TimelapseGraph/TimelapseGraph.jsx","components/PanoramaGraph/PanoramaGraph.jsx","pages/Running/Running.jsx","components/Main/Main.jsx","App.js","serviceWorker.js","index.js"],"names":["SocketContext","React","createContext","Menu","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","props","socket","emit","_this2","buttonStyle","background","border","borderRadius","boxShadow","color","height","padding","margin","width","react_default","a","createElement","Button","style","variant","size","component","Link","to","Timelapse_default","PanoramaHorizontal_default","onClick","Movie_default","Component","MenuWithSocket","SocketProvider","Consumer","Menu_Menu_Menu","assign","useStyles","makeStyles","them","chipConnected","theme","spacing","status","connected","chipDisconnected","disconnected","createMuiTheme","green","red","CameraBox","classes","cameraActive","hasCamera","_React$useState","useState","_React$useState2","slicedToArray","open","setOpen","handleClick","toggleCamera","handleClose","event","reason","Chip","icon","LinkedCamera_default","label","clickable","className","deleteIcon","Done_default","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","ContentProps","aria-describedby","message","id","action","IconButton","key","aria-label","close","Close_default","root","flexGrow","title","Header","AppBar","position","Toolbar","backButton","ArrowBack_default","Typography","undefined","CameraBox_CameraBox","TimelapseCamControls","toggleBrightnesscontrol","bind","assertThisInitialized","takeReferencePicture","referencePicture","loading","setState","camControlsOk","FormControlLabel","control","Checkbox","checked","brightnessControl","onChange","CircularProgress","SecondsTimePicker","react","material_ui_pickers_esm","disabled","ampm","openTo","views","format","value","newValue","TimelapseOptions","createIntervalOptions","interval","i","push","toString","handleIntervalChange","handleRecordingTimeChange","handleMovieTimeChange","handleDisableChange","calculateSliders","target","seconds","toSeconds","secs","console","log","t","Date","setSeconds","date","getHours","getMinutes","getSeconds","Grid","container","item","xs","FormControl","InputLabel","htmlFor","Select","native","inputProps","name","SecondsTimePicker_SecondsTimePicker","toDateTime","recordingTime","movieTime","FormLabel","RadioGroup","Radio","labelPlacement","listStyle","listStyleType","lineHeight","listItemStyle","overflow","float","SortableItem","sortableElement","_ref","li","onDelete","deleteButton","Delete_default","fontSize","length","SortableContainer","sortableContainer","_ref2","children","ItemList","items","points","index","handleDelete","distance","onSortEnd","map","concat","PointsManager","oldIndex","newIndex","arrayMove","handleClickOpen","handleSave","dialogOpen","toConsumableArray","_ref3","splice","Dialog","aria-labelledby","DialogTitle","DialogContent","components_ItemList_ItemList","DialogActions","autoFocus","AxisControl","_useState","_useState2","axis","setAxis","handleAxisChange","row","nrOfAxis","MotorControl","AxisControl_AxisControl","lib_default","options","mode","top","left","threshold","lockX","outline","onEnd","evt","data","onPlain","direction","x","MotorControlWithSocket","TimelapsePoints","getAndSavePosition","sendPoints","addtoLocal","on","pos","y","z","handlePointsChange","MotorControl_MotorControl","components_PointsManager_PointsManager","Timelapse","activateCamera","pointsOk","timelapse","initializing","ok","amount","type","dynamicValue","cameraControl","ramping","LinearProgress","Header_Header","components_TimelapseCamControls_TimelapseCamControls","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpandMore_default","aria-controls","ExpansionPanelDetails","components_TimelapseOptions_TimelapseOptions","components_TimelapsePoints_TimelapsePoints","TimelapseWithSocket","Timelapse_Timelapse_Timelapse","arraysEqual","b","PanoramaOptions","createAngleOptions","createPicturesOptions","handlePicturesChange","handleAngleChange","addRow","toggleZN","deleteZN","angle","pictures","nadir","zenit","rows","r","Array","isArray","handleRowChange","Waterscale","setZero","Panorama","toggleHdr","panorama","hdr","waterscale","config","components_Waterscale_Waterscale","components_PanoramaOptions_PanoramaOptions","PanoramaWithSocket","Panorama_Panorama","Movie","TimelapseGraph","progress","array","waypoints","forEach","waypoint","o","es6","dot","dataKey","stroke","strokeWidth","TimelapseGraphWithSocket","TimelapseGraph_TimelapseGraph","PanoramaGraph","retake","progressState","progressArray","count","image","innerIndex","newProgressArray","photo","totalInRow","pies","pieData","cx","cy","outerRadius","innerRadius","paddingAngle","fill","generateCells","_this3","cells","_loop","imageIndex","j","rowLength","generatePies","PanoramaGraphWithSocker","PanoramaGraph_PanoramaGraph","Running","togglePause","abort","maxProgress","amountPauses","panoConfig","pause","max","location","pathname","enqueueSnackbar","fromSingle","removeAllListeners","window","href","charAt","toUpperCase","slice","components_TimelapseGraph_TimelapseGraph","components_PanoramaGraph_PanoramaGraph","marginTop","withSnackbar","Running_Running","Main","running","react_router","exact","path","render","pages_Running_Running","MainWithSocket","palette","primary","blue","secondary","App","io","Provider","build","maxSnack","dense","utils","DateFnsUtils","MuiThemeProvider","Main_Main","Boolean","hostname","match","ReactDOM","react_router_dom","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2ff1df8e.chunk.js","sourcesContent":["import React from 'react'\n\nconst SocketContext = React.createContext()\n\nexport default SocketContext","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TimelapseIcon from '@material-ui/icons/Timelapse';\nimport PanoramaHorizontalIcon from '@material-ui/icons/PanoramaHorizontal';\nimport MovieIcon from '@material-ui/icons/Movie';\nimport SocketContext from '../../services/SocketProvider';\nimport { Link } from 'react-router-dom';\nimport './Menu.css';\n\nclass Menu extends React.Component {\n    constructor(){\n        super();\n        this.state = {\n        };\n    }\n\n    componentDidMount(){\n        this.props.socket.emit('softResetPlaner');\n        \n    }\n\n    render(){\n\n        const buttonStyle = {\n            background: 'linear-gradient(223deg, rgba(9,9,121,1) 0%, rgba(0,212,255,1) 100%)',\n                border: 0,\n                borderRadius: 3,\n                boxShadow: '0 3px 5px 2px rgba(0, 0, 0, .3)',\n                color: 'white',\n                height: 48,\n                padding: '0 30px',\n                margin: '3em',\n                width: '70%'\n          \n          }\n        return(\n            <div>\n            <div>\n            <Button style={buttonStyle} variant=\"contained\" size=\"large\" color=\"primary\" component={Link} to=\"/timelapse\">Timelapse \n            <TimelapseIcon /></Button>\n            </div>\n            <div>\n            <Button style={buttonStyle} variant=\"contained\" size=\"large\" color=\"primary\" component={Link} to=\"/panorama\">Panorama \n            <PanoramaHorizontalIcon /></Button>\n            </div>\n            <div>\n            <Button style={buttonStyle} variant=\"contained\" size=\"large\" color=\"primary\" onClick={() => this.props.socket.emit('init')} component={Link} to=\"/movie\">Movie \n            <MovieIcon /></Button>\n            </div>\n            <Button variant=\"outlined\" onClick={() => this.props.socket.emit('shutdown')} >\n                Shutdown\n            </Button>\n            <Button variant=\"outlined\" onClick={() => this.props.socket.emit('reboot')} >\n                Reboot\n            </Button>\n            <Button variant=\"outlined\" onClick={() => this.props.socket.emit('update')} >\n                Update\n            </Button>\n            </div>\n        );\n    }\n}\n\nconst MenuWithSocket = (props) => (\n    <SocketContext.Consumer>\n        {socket => <Menu {...props} socket={socket} />}\n    </SocketContext.Consumer>\n)\n\nexport default MenuWithSocket;","import React from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport LinkedCameraIcon from '@material-ui/icons/LinkedCamera';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { green } from '@material-ui/core/colors';\nimport { red } from '@material-ui/core/colors';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\n\n\nconst useStyles = makeStyles(them => ({\n  chipConnected: {\n    margin: theme.spacing(1),\n    color: theme.status.connected,\n  },\n  chipDisconnected: {\n    margin: theme.spacing(1),\n    color: theme.status.disconnected,\n  },\n}));\n\nconst theme = createMuiTheme({\n  status: {\n    connected: green[500],\n    disconnected: red[500]\n  },\n});\n\n\nfunction CameraBox(props) {\n  const classes = useStyles();\n  const cameraActive = props.cameraActive;\n  const hasCamera = props.hasCamera;\n  const [open, setOpen] = React.useState(false);\n\n\n  function handleClick() {\n    props.toggleCamera();\n    setOpen(true);\n  }\n\n  function handleClose(event, reason) {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  }\n\n\n  if (cameraActive) {\n    return (<div>\n      <Chip\n        icon={<LinkedCameraIcon />}\n        label=\"Use Camera\"\n        clickable\n        className={classes.chipConnected}\n\n        onClick={handleClick}\n        deleteIcon={<DoneIcon />}\n      />\n    </div>);\n  }\n  return (<div>\n    <Chip\n      icon={<LinkedCameraIcon />}\n      label=\"No Camera\"\n      clickable\n      className={classes.chipDisconnected}\n\n      onClick={handleClick}\n      deleteIcon={<DoneIcon />}\n    />\n    {!hasCamera &&\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={open}\n        autoHideDuration={5000}\n        onClose={handleClose}\n        ContentProps={{\n          'aria-describedby': 'message-id',\n        }}\n        message={<span id=\"message-id\">No camera connected</span>}\n        action={[\n          <IconButton\n            key=\"close\"\n            aria-label=\"Close\"\n            color=\"inherit\"\n            className={classes.close}\n            onClick={handleClose}\n          >\n            <CloseIcon />\n          </IconButton>,\n        ]}\n      />\n    }\n\n  </div>);\n}\n\nexport default CameraBox;","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CameraBox from '../CameraBox/CameraBox';\nimport { Link } from 'react-router-dom';\nimport BackIcon from '@material-ui/icons/ArrowBack';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n      flexGrow: 1,\n    },\n    title: {\n      flexGrow: 1,\n    },\n  }));\n  \n\nfunction Header(props){\n    const classes = useStyles();\n\n    return(\n        <header>\n        <div className={classes.root}>\n      <AppBar position=\"static\" color=\"default\">\n        <Toolbar>\n        {props.backButton &&\n        <IconButton aria-label=\"back\" component={ Link } to='/'>\n        <BackIcon />\n      </IconButton>\n            \n          }\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.title}>\n            {props.title}\n          </Typography>\n          {props.toggleCamera !== undefined &&\n            <CameraBox cameraActive={props.cameraActive} hasCamera={props.hasCamera} toggleCamera={props.toggleCamera}/>\n          }\n        </Toolbar>\n      </AppBar>\n    </div>\n    </header>\n    );\n\n    \n}\n\nexport default Header;","import React from 'react';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n\n\n\nclass TimelapseCamControls extends React.Component {\n    constructor(props) {\n        super(props);\n        this.toggleBrightnesscontrol = this.toggleBrightnesscontrol.bind(this);\n        this.takeReferencePicture = this.takeReferencePicture.bind(this);\n        this.state = {\n            referencePicture: false,\n            loading: false,\n        };\n    }\n\n\n    toggleBrightnesscontrol() {\n        this.props.toggleBrightnesscontrol();\n    }\n\n    takeReferencePicture() {\n        this.props.socket.emit('takeReferencePicture');\n        this.setState({ loading: true });\n        /*this.props.socket.on('analysingDone', data => {\n            this.setState({ loading: false });\n            this.setState({ referencePicture: data.success });\n        })*/\n        this.setState({loading: false});\n        this.setState({referencePicture: true});\n        this.props.camControlsOk(true);\n    }\n\n    render() {\n        return (\n            <div>\n                <FormControlLabel\n                    control={\n                        <Checkbox checked={this.props.brightnessControl} onChange={this.toggleBrightnesscontrol} />\n                    }\n                    label=\"Control brightness\"\n                />\n                {this.props.brightnessControl && !this.state.referencePicture && !this.state.loading &&\n                    <Button variant=\"contained\" onClick={this.takeReferencePicture}>\n                        Take Reference Picture\n        </Button>\n                }\n                {this.state.loading &&\n                    <CircularProgress />\n                }\n\n            </div>);\n    }\n\n}\n\nexport default TimelapseCamControls;","import React, { Fragment } from \"react\";\nimport { TimePicker } from \"@material-ui/pickers\";\n\nfunction SecondsTimePicker(props) {\n\n  const hd = (newValue) => {\n    props.onChange(newValue);\n  };\n  return (\n    <Fragment>\n      <TimePicker\n        disabled={props.disabled}\n        ampm={false}\n        openTo=\"hours\"\n        views={[\"hours\", \"minutes\", \"seconds\"]}\n        format=\"HH:mm:ss\"\n        label={props.label}\n        value={props.value}\n        onChange={hd}\n      />\n    </Fragment>\n  );\n}\n\nexport default SecondsTimePicker;","import React from 'react';\nimport SecondsTimePicker from '../SecondsTimePicker/SecondsTimePicker';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Grid from '@material-ui/core/Grid';\n\n\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\n\nclass TimelapseOptions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleIntervalChange = this.handleIntervalChange.bind(this);\n    this.handleRecordingTimeChange = this.handleRecordingTimeChange.bind(this);\n    this.handleMovieTimeChange = this.handleMovieTimeChange.bind(this);\n    this.handleDisableChange = this.handleDisableChange.bind(this);\n    this.state = {\n      disabled: 'interval'\n    };\n  }\n\n  handleIntervalChange(event) {\n    this.props.calculateSliders(this.state.disabled, 'interval', event.target.value);\n  }\n\n  handleRecordingTimeChange(value) {\n    var seconds = this.toSeconds(value);\n    this.props.calculateSliders(this.state.disabled, 'recordingTime', seconds);\n  }\n\n  handleMovieTimeChange(value) {\n    var seconds = this.toSeconds(value);\n    this.props.calculateSliders(this.state.disabled, 'movieTime', seconds);\n  }\n\n  toDateTime(secs) {\n    console.log(\"lklkl\");\n    var t = new Date(1970, 0, 1); // Epoch\n    t.setSeconds(secs);\n    return t;\n  }\n\n  toSeconds(date) {\n    var hours = date.getHours();\n    var minutes = date.getMinutes();\n    var seconds = date.getSeconds();\n\n    var totalSeconds = (hours * 3600) + (minutes * 60) + seconds;\n    return totalSeconds;\n  }\n\n  createIntervalOptions = () => {\n    let interval = []\n\n    for (let i = 1; i <= 120; i++) {\n      interval.push(<option key={i.toString()} value={i}>{i}</option>)\n    }\n    return interval\n  }\n\n  handleDisableChange(event){\n    this.setState({disabled: event.target.value})\n  }\n\n\n  render() {\n    console.log(\"rerender general options\");\n    return (\n      <div>\n        <Grid container spacing={1}>\n        <Grid item xs={8}>\n            <div>\n              <FormControl >\n                <InputLabel htmlFor=\"age-native-simple\">Interval</InputLabel>\n                <Select\n                  native\n                  disabled={this.state.disabled === 'interval'}\n                  value={this.props.interval}\n                  onChange={this.handleIntervalChange}\n                  inputProps={{\n                    name: 'Interval',\n                    id: 'age-native-simple',\n                  }}\n                >\n                  {this.createIntervalOptions()}\n                </Select>\n              </FormControl>\n            </div>\n            <div>\n              <SecondsTimePicker disabled={this.state.disabled === 'recordingTime'} label=\"Recording Time\" value={this.toDateTime(this.props.recordingTime)} onChange={this.handleRecordingTimeChange} />\n            </div>\n            <div>\n              <SecondsTimePicker disabled={this.state.disabled === 'movieTime'} label=\"Movie Time\" value={this.toDateTime(this.props.movieTime)} onChange={this.handleMovieTimeChange} />\n            </div>\n          </Grid>\n          <Grid item xs={4}>\n            <FormControl component=\"fieldset\">\n              <FormLabel component=\"legend\">Lock</FormLabel>\n              <RadioGroup\n                aria-label=\"Lock\"\n                name=\"lock\"\n\n                value={'interval'}\n                onChange={this.handleDisableChange}\n              >\n                <FormControlLabel checked={this.state.disabled === 'interval'} value=\"interval\" control={<Radio />} labelPlacement=\"top\" />\n                <FormControlLabel checked={this.state.disabled === 'recordingTime'} value=\"recordingTime\" control={<Radio />} labelPlacement=\"top\" />\n                <FormControlLabel checked={this.state.disabled === 'movieTime'} value=\"movieTime\" control={<Radio />} labelPlacement=\"top\" />\n              </RadioGroup>\n            </FormControl>\n          </Grid>\n          \n\n        </Grid>\n\n\n      </div>\n    );\n  }\n}\n\nexport default TimelapseOptions;","import React from 'react';\nimport {\n  sortableContainer,\n  sortableElement\n} from 'react-sortable-hoc';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport IconButton from '@material-ui/core/IconButton';\n\n\nconst listStyle = {\n  listStyleType: 'none',\n  lineHeight: '2.5',\n  padding: 0\n\n}\n\nconst listItemStyle = {\n  overflow: 'auto'\n\n}\n\nconst buttonStyle = {\n  float: 'right'\n}\n\nconst SortableItem = sortableElement(({ value, onDelete }) => {\n  let li\n  let deleteButton = <IconButton style={buttonStyle} onClick={onDelete} aria-label=\"Delete\">\n  <DeleteIcon fontSize=\"small\" />\n</IconButton>\n  if (value.length === 3) {\n    li = <li style={listItemStyle}>\n      X: {value[0]} Y: {value[1]} Z: {value[2]}\n      {deleteButton}\n    </li>\n  } else if (value.length === 2) {\n    li = <li style={listItemStyle}>\n      Photos: {value[0]} Angle: {value[1]}\n      {deleteButton}\n    </li>\n  }\n  return (\n  li\n)\n});\n\n\n\nconst SortableContainer = sortableContainer(({ children }) => {\n  return <ul style={listStyle}>{children}</ul>;\n});\n\nclass ItemList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onDelete = this.onDelete.bind(this);\n\n    this.state = {\n      items: props.points\n    };\n\n  }\n\n\n  onDelete(index) {\n    this.props.handleDelete(index);\n  }\n\n  render() {\n    const items = this.props.points;\n\n    return (\n      <SortableContainer distance={2} onSortEnd={this.props.onSortEnd}>\n        {items.map((value, index) => (\n          <SortableItem key={`item-${index}`} index={index} value={value} onDelete={() => this.onDelete(index)} />\n        ))}\n      </SortableContainer>\n\n\n    );\n  }\n}\n\nexport default ItemList;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport ItemList from '../ItemList/ItemList';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport arrayMove from 'array-move';\n\nclass PointsManager extends React.Component {\n    constructor(props) {\n        super(props);\n    \n        this.handleClickOpen = this.handleClickOpen.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.onSortEnd = this.onSortEnd.bind(this);\n        this.handleSave = this.handleSave.bind(this);\n        this.handleDelete = this.handleDelete.bind(this);\n\n        this.state = {\n            dialogOpen: false,\n            items: [...this.props.items]\n        };\n        \n    }\n\n    componentWillReceiveProps({items}) {\n        this.setState({items: [...items]})\n      }\n\n    handleClickOpen() {\n        this.setState({dialogOpen: true});\n    }\n    \n    handleClose() {\n        this.setState({dialogOpen: false});\n        this.setState({items: [...this.props.items]});\n    }\n\n    handleSave() {\n        this.props.handleSave(this.state.items);\n        this.setState({dialogOpen: false});\n    }\n\n    handleDelete(index){\n        var items = [...this.state.items];\n        items.splice(index, 1);\n        this.setState({items: items});\n    }\n\n    onSortEnd = ({oldIndex, newIndex}) => {\n        this.setState(({items}) => ({\n          items: arrayMove(items, oldIndex, newIndex),\n        }));\n      };\n\n    render() {\n        const divStyle = {\n            width: '100%'\n          };\n        return (\n            <div style={divStyle}>\n       \n                <Button variant=\"outlined\" color=\"primary\" onClick={this.handleClickOpen}>\n        Manage Points\n      </Button>\n                <Dialog\n        open={this.state.dialogOpen}\n        onClose={this.handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Rearange or delete Points\"}</DialogTitle>\n        <DialogContent>\n        <ItemList points={this.state.items} onSortEnd={this.onSortEnd} handleDelete={this.handleDelete}/>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.handleClose} color=\"primary\">\n            Dismiss\n          </Button>\n          <Button onClick={this.handleSave} color=\"primary\" autoFocus>\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n            </div>);\n    }\n\n}\n\nexport default PointsManager;","import React, { useState } from 'react';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControl from '@material-ui/core/FormControl';\n\n\nfunction AxisControl(props) {\n    const [axis, setAxis] = useState('z');\n\n    function handleAxisChange(event){\n        setAxis(event.target.value);\n        props.handleAxisChange(event.target.value);\n    }\n\n\n    return (<div>\n        <FormControl component=\"fieldset\">\n            <RadioGroup\n                aria-label=\"Axis\"\n                name=\"axis\"\n\n                value={'X-Axis'}\n                onChange={(event) => handleAxisChange(event)}\n                row\n            >\n                {props.nrOfAxis === 3 &&\n                    <FormControlLabel label=\"X\" checked={axis === 'x'} value=\"x\" control={<Radio />} labelPlacement=\"start\" />\n                }\n\n                <FormControlLabel label=\"Y\" checked={axis === 'y'} value=\"y\" control={<Radio />} labelPlacement=\"start\" />\n                <FormControlLabel label=\"Z\" checked={axis === 'z'} value=\"z\" control={<Radio />} labelPlacement=\"start\" />\n            </RadioGroup>\n        </FormControl>\n\n    </div>);\n}\n\nexport default AxisControl;","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ReactNipple from 'react-nipple';\nimport AxisControl from '../../components/AxisControl/AxisControl';\nimport SocketContext from '../../services/SocketProvider';\n\n\nconst useStyles = makeStyles(them => ({\n    container: {\n      position: 'relative'\n    }\n  }));\n\nfunction MotorControl(props) {\n    const classes = useStyles()\n    const [axis, setAxis] = useState('z');\n\n    function handleAxisChange(axis){\n        setAxis(axis);\n    }\n\n    function plainNipple(evt, data){\n        props.socket.emit('stop reposition');\n        if(data.direction.x === 'right'){\n            props.socket.emit('reposition', {\n                axis: axis,\n                direction: 'right'\n            });\n        } else if (data.direction.x === 'left') {\n            props.socket.emit('reposition', {\n                axis: axis,\n                direction: 'left'\n            });\n        }\n}\n\n\n    return (<div className={classes.container}>\n        <AxisControl nrOfAxis={props.nrOfAxis} handleAxisChange={handleAxisChange}/>\n        <ReactNipple\n                    options={{ mode: 'static', position: { top: '60%', left: '50%' }, threshold: 0.2, lockX: true, color: \"black\" }}\n                    \n                    style={{\n                        outline: '1px dashed red',\n                        width: '100%',\n                        height: 130\n                    }}\n             \n                    onEnd={(evt, data) => props.socket.emit('stop reposition')}\n                    onPlain={plainNipple}\n                />\n\n    </div>);\n}\n\nconst MotorControlWithSocket = (props) => (\n    <SocketContext.Consumer>\n      {socket => <MotorControl {...props} socket={socket} />}\n    </SocketContext.Consumer>\n)\n\nexport default MotorControlWithSocket;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport PointsManager from '../../components/PointsManager/PointsManager';\nimport MotorControl from '../MotorControl/MotorControl';\n\nclass TimelapsePoints extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleSave = this.handleSave.bind(this);\n        this.getAndSavePosition = this.getAndSavePosition.bind(this);\n        this.sendPoints = this.sendPoints.bind(this);\n        this.addtoLocal = this.addtoLocal.bind(this);\n\n        this.state = {\n            points: []\n        };\n        \n    }\n\n    componentDidMount(){\n        this.props.socket.on('reportingPosition', function(data){\n            console.log(data);\n            var pos = [data.x, data.y, data.z];\n            this.addtoLocal(pos);\n            \n        }.bind(this))\n    }\n\n    addtoLocal(pos){\n        this.setState({points: [...this.state.points, pos]}, function(){\n            this.sendPoints()\n        })\n        \n    }\n\n    getAndSavePosition() {\n        this.props.socket.emit('getPosition');\n        /*this.props.socket.emit('add');\n        this.setState({pointsAdded: this.state.pointsAdded + 1});*/\n    }\n\n\n    handleSave(points){\n        this.setState({points: points}, function(){\n            this.sendPoints();\n        })\n    }\n\n    sendPoints(){\n        this.props.socket.emit('points', {\n            points: this.state.points\n        })\n        this.props.handlePointsChange(this.state.points.length);\n    }\n\n    render() {\n        const divStyle = {\n            width: '100%'\n          };\n        return (\n            <div style={divStyle}>\n                \n                <Grid container spacing={1}>\n                <Grid item xs={8}>\n                <MotorControl nrOfAxis={3} />\n                </Grid>\n                <Grid item xs={4}>\n                <PointsManager items={this.state.points} handleSave={this.handleSave}/>\n                    \n                </Grid>\n                </Grid>\n              \n\n<Button variant=\"outlined\" onClick={this.getAndSavePosition}>\n        Add Point\n      </Button>\n            </div>);\n    }\n\n}\n\nexport default TimelapsePoints;","import React from 'react';\nimport Header from '../../components/Header/Header';\nimport SocketContext from '../../services/SocketProvider';\nimport TimelapseCamControls from '../../components/TimelapseCamControls/TimelapseCamControls';\nimport TimelapseOptions from '../../components/TimelapseOptions/TimelapseOptions';\nimport TimelapsePoints from '../../components/TimelapsePoints/TimelapsePoints';\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom'\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport './Timelapse.css';\n\nclass Timelapse extends React.Component {\n    constructor(props) {\n        super(props);\n        this.toggleCamera = this.toggleCamera.bind(this);\n        this.activateCamera = this.activateCamera.bind(this);\n        this.toggleBrightnesscontrol = this.toggleBrightnesscontrol.bind(this);\n        this.camControlsOk = this.camControlsOk.bind(this);\n        this.pointsOk = this.pointsOk.bind(this);\n        this.calculateSliders = this.calculateSliders.bind(this);\n        this.timelapse = this.timelapse.bind(this);\n\n        this.state = {\n            initializing: true,\n            hasCamera: false,\n            cameraActive: false,\n            brightnessControl: false,\n            camControlsOk: false,\n            pointsOk: false,\n            interval: 10,\n            recordingTime: 6000,\n            movieTime: 12\n        };\n\n        \n    } \n\n    componentDidMount() {\n        this.activateCamera();\n\n        this.props.socket.on('initDone', () => {\n            this.setState({initializing: false});\n        });\n\n        this.props.socket.emit('init');\n\n        this.props.socket.on('hasCamera', data => {\n            this.setState({\n                cameraActive: data.hasCamera\n            })\n            this.setState({\n                hasCamera: data.hasCamera\n            })\n        });\n    }\n\n    activateCamera() {\n        this.props.socket.emit('requestCamera');\n    }\n\n    toggleCamera() {\n        if (this.state.cameraActive) {\n            this.setState({\n                cameraActive: !this.state.cameraActive\n            });\n        } else {\n            this.activateCamera();\n        }\n    }\n\n    toggleBrightnesscontrol() {\n        this.setState({\n            brightnessControl: !this.state.brightnessControl\n        });\n\n    }\n\n    camControlsOk(ok) {\n        this.setState({\n            camControlsOk: ok\n        });\n    }\n\n    pointsOk(amount) {\n        this.setState({\n            pointsOk: (amount > 1)\n        });\n    }\n\n    calculateSliders(disabled, type, value) {\n        var dynamicValue;\n        console.log(disabled + type + value)\n\n        if (disabled === 'interval' && type === 'recordingTime') {\n            dynamicValue = (value / this.state.interval) / 25\n            this.setState({\n                recordingTime: value\n            })\n            this.setState({\n                movieTime: dynamicValue\n            })\n        } else if (disabled === 'interval' && type === 'movieTime') {\n            dynamicValue = (value * 25) * this.state.interval;\n            this.setState({\n                movieTime: value\n            })\n            this.setState({\n                recordingTime: dynamicValue\n            })\n        } else if (disabled === 'recordingTime' && type === 'interval') {\n            dynamicValue = (this.state.recordingTime / value) / 25;\n            this.setState({\n                interval: value\n            })\n            this.setState({\n                movieTime: dynamicValue\n            })\n        } else if (disabled === 'recordingTime' && type === 'movieTime') {\n            dynamicValue = this.state.recordingTime / (value * 25);\n            this.setState({\n                movieTime: value\n            })\n            this.setState({\n                interval: dynamicValue\n            })\n        } else if (disabled === 'movieTime' && type === 'interval') {\n            dynamicValue = this.state.movieTime * value * 25;\n            this.setState({\n                interval: value\n            })\n            this.setState({\n                recordingTime: dynamicValue\n            })\n        } else if (disabled === 'movieTime' && type === 'recordingTime') {\n            dynamicValue = value / (this.state.movieTime * 25)\n            this.setState({\n                recordingTime: value\n            })\n            this.setState({\n                interval: dynamicValue\n            })\n        }\n    }\n\n    timelapse(){\n        this.props.socket.emit('timelapse', {\n            interval: this.state.interval,\n            movieTime: this.state.movieTime,\n            cameraControl: this.state.cameraActive,\n            ramping: this.state.brightnessControl\n        });\n    }\n\n\n\n    render() {\n        if(this.state.initializing){\n            return (<div>\n                <br />\n                <LinearProgress />\n                <LinearProgress color=\"secondary\" />\n                </div>)\n        }\n        return (<div >\n            <Header title=\"Timelapse\"\n                cameraActive={\n                    this.state.cameraActive\n                }\n                hasCamera={\n                    this.state.hasCamera\n                }\n                toggleCamera={\n                    this.toggleCamera\n                }\n                backButton={true}\n            /> {\n                this.state.cameraActive &&\n                <TimelapseCamControls brightnessControl={\n                        this.state.brightnessControl\n                    }\n                    toggleBrightnesscontrol={\n                        this.toggleBrightnesscontrol\n                    }\n                    camControlsOk={\n                        this.camControlsOk\n                    }\n                    socket={\n                        this.props.socket\n                    }\n                />\n            } {\n                (!this.state.brightnessControl || (this.state.brightnessControl && this.state.camControlsOk)) &&\n                <div>\n                    <ExpansionPanel>\n        <ExpansionPanelSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Typography>General Options</Typography>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n        <TimelapseOptions interval={\n                        this.state.interval\n                    }\n                    recordingTime={\n                        this.state.recordingTime\n                    }\n                    movieTime={\n                        this.state.movieTime\n                    }\n                    calculateSliders={\n                        this.calculateSliders\n                    }\n                />\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n\n      <ExpansionPanel>\n        <ExpansionPanelSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Typography>Timelapse Points</Typography>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n        <TimelapsePoints socket={this.props.socket} handlePointsChange={this.pointsOk}/>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n                </div>}\n                {this.state.pointsOk && this.camControlsOk &&\n                \n                <Button variant=\"outlined\" onClick={this.timelapse} component={ Link } to=\"/runningTimelapse\" >\n                Start\n              </Button>\n                }\n                </div>\n        );\n    }\n}\n\nconst TimelapseWithSocket = (props) => (\n    <SocketContext.Consumer>\n      {socket => <Timelapse {...props} socket={socket} />}\n    </SocketContext.Consumer>\n)\nexport default TimelapseWithSocket;","export function arraysEqual(a, b) {\n    if (a === b) return true;\n    if (a == null || b == null) return false;\n    if (a.length != b.length) return false;\n\n    for (var i = 0; i < a.length; ++i) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n}","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport PointsManager from '../../components/PointsManager/PointsManager';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { arraysEqual } from '../../services/util';\n\nclass PanoramaOptions extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleSave = this.handleSave.bind(this);\n        this.handlePicturesChange = this.handlePicturesChange.bind(this);\n        this.handleAngleChange = this.handleAngleChange.bind(this);\n        this.addRow = this.addRow.bind(this);\n        this.toggleZN = this.toggleZN.bind(this);\n        this.deleteZN = this.deleteZN.bind(this);\n\n        this.state = {\n            angle: 0,\n            pictures: 1,\n            nadir: false,\n            zenit: false,\n            rows: []\n        };\n\n    }\n\n    handlePicturesChange(event){\n        this.setState({\n            pictures: event.target.value\n        })\n    }\n\n    handleAngleChange(event){\n        this.setState({\n            angle: event.target.value\n        })\n    }\n\n\n    addRow(row) {\n        var r;\n        if(Array.isArray(row)) r = row;\n        else r = [this.state.pictures, this.state.angle];\n        this.setState({ rows: [...this.state.rows, r] }, function () {\n            this.props.handleRowChange(this.state.rows);\n        })\n    }\n\n\n    handleSave(rows) {\n        this.setState({ rows: rows }, function () {\n            this.props.handleRowChange(this.state.rows);\n        })\n    }\n\n    createAngleOptions = () => {\n        let interval = []\n        for (let i = 90; i >= -90; i--) {\n            interval.push(<option value={i}>{i}</option>)\n        }\n        return interval\n    }\n\n    createPicturesOptions = () => {\n        let interval = []\n        for (let i = 1; i <= 30; i++) {\n            interval.push(<option value={i}>{i}</option>)\n        }\n        return interval\n    }\n\n    toggleZN(zenit){\n        if(zenit){\n            this.setState({zenit: !this.state.zenit}, function(){\n                this.state.zenit ? this.addRow([1, 90]) : this.deleteZN(true);\n            })\n            \n        }else{\n            this.setState({nadir: !this.state.nadir}, function(){\n                this.state.nadir ? this.addRow([1, -90]) : this.deleteZN(false);\n            })\n        }\n    }\n    \n    deleteZN(zenit){\n        var rows = this.state.rows;\n        var row;\n        if(zenit) row = [1, 90];\n        else row = [1, -90];\n        \n        for (var i=rows.length-1; i>=0; i--) {\n            if (arraysEqual(rows[i], row)) {\n                console.log(\"DELETE NOW\");\n                rows.splice(i, 1);\n            }\n        }\n\n        this.handleSave(rows);\n    }\n\n\n    \n\n    render() {\n        const divStyle = {\n            width: '100%'\n        };\n        return (\n            <div style={divStyle}>\n                <FormControlLabel\n                                control={\n                                    <Checkbox checked={this.state.zenit} onChange={() => this.toggleZN(true)} />\n                                }\n                                label=\"Zenit\"\n                            />\n                            <FormControlLabel\n                                control={\n                                    <Checkbox checked={this.state.nadir} onChange={() => this.toggleZN(false)} />\n                                }\n                                label=\"Nadir\"\n                            />\n\n                <Grid container spacing={1}>\n                    <Grid item xs={8}>\n                        <FormControl >\n                            <InputLabel htmlFor=\"age-native-simple\">Angle</InputLabel>\n                            <Select\n                                native\n                                value={this.state.angle}\n                                onChange={this.handleAngleChange}\n                                inputProps={{\n                                    name: 'Interval',\n                                    id: 'age-native-simple',\n                                }}\n                            >\n                                {this.createAngleOptions()}\n                            </Select>\n                        </FormControl>\n                        <FormControl >\n                            <InputLabel htmlFor=\"age-native-simple\">Pictures</InputLabel>\n                            <Select\n                                native\n                                value={this.state.pictures}\n                                onChange={this.handlePicturesChange}\n                                inputProps={{\n                                    name: 'Interval',\n                                    id: 'age-native-simple',\n                                }}\n                            >\n                                {this.createPicturesOptions()}\n                            </Select>\n                        </FormControl>\n                    </Grid>\n                    <Grid item xs={4}>\n                        <PointsManager items={this.state.rows} handleSave={this.handleSave} />\n\n                    </Grid>\n                </Grid>\n\n\n                <Button variant=\"outlined\" onClick={this.addRow}>\n                    Add Point\n      </Button>\n            </div>);\n    }\n\n}\n\nexport default PanoramaOptions;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport MotorControl from '../MotorControl/MotorControl';\n\nclass Waterscale extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            axis: []\n        };\n\n    }\n\n\n\n\n    render() {\n        return (\n            <div>\n                <MotorControl />\n\n\n                <Button variant=\"outlined\" onClick={this.props.setZero}>\n                    Set zero\n                </Button>\n            </div>);\n    }\n\n}\n\nexport default Waterscale;","import React from 'react';\nimport Header from '../../components/Header/Header';\nimport SocketContext from '../../services/SocketProvider';\nimport PanoramaOptions from '../../components/PanoramaOptions/PanoramaOptions';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Link } from 'react-router-dom';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Button from '@material-ui/core/Button';\nimport Waterscale from '../../components/Waterscale/Waterscale';\n\nclass Panorama extends React.Component {\n    constructor(props) {\n        super(props);\n        this.toggleCamera = this.toggleCamera.bind(this);\n        this.activateCamera = this.activateCamera.bind(this);\n        this.toggleHdr = this.toggleHdr.bind(this);\n        this.handleIntervalChange = this.handleIntervalChange.bind(this);\n        this.createIntervalOptions = this.createIntervalOptions.bind(this);\n        this.handleRowChange = this.handleRowChange.bind(this);\n        this.panorama = this.panorama.bind(this);\n        this.setZero = this.setZero.bind(this);\n\n\n        let socket = props.socket;\n\n        this.state = {\n            hasCamera: false,\n            cameraActive: false,\n            hdr: false,\n            waterscale: false,\n            interval: 10,\n            rows: []\n        };\n\n        socket.on('hasCamera', data => {\n            this.setState({\n                cameraActive: data.hasCamera\n            })\n            this.setState({\n                hasCamera: data.hasCamera\n            })\n        })\n    }\n\n\n    componentDidMount() {\n        this.activateCamera();\n    }\n\n    activateCamera() {\n        this.props.socket.emit('requestCamera');\n    }\n\n    toggleCamera() {\n        if (this.state.cameraActive) {\n            this.setState({\n                cameraActive: !this.state.cameraActive\n            });\n        } else {\n            this.activateCamera();\n        }\n    }\n\n    toggleHdr() {\n        this.setState({\n            hdr: !this.state.hdr\n        });\n    }\n\n    handleIntervalChange(event) {\n        this.setState({\n            interval: event.target.value\n        })\n    }\n\n    handleRowChange(rows) {\n        this.setState({ rows: rows });\n    }\n\n    setZero(){\n        this.setState({waterscale: true})\n        this.props.socket.emit('waterscale');\n    }\n\n    panorama() {\n        this.props.socket.emit('panorama', {\n            config: this.state.rows,\n            interval: this.state.interval,\n            cameraControl: this.state.cameraActive,\n            hdr: this.state.hdr\n        });\n    }\n\n    createIntervalOptions = () => {\n        let interval = []\n        for (let i = 1; i <= 120; i++) {\n            interval.push(<option key={i} value={i}>{i}</option>)\n        }\n        return interval\n    }\n\n    render() {\n        return (<div >\n            <Header title=\"Panorama\"\n                cameraActive={\n                    this.state.cameraActive\n                }\n                hasCamera={\n                    this.state.hasCamera\n                }\n                toggleCamera={\n                    this.toggleCamera\n                }\n                backButton={true}\n            />\n\n            <div>\n                {!this.state.waterscale &&\n                    <Waterscale nrOfAxis={2} setZero={this.setZero} />}\n                {this.state.waterscale &&\n                    <div>\n                        <ExpansionPanel>\n                            <ExpansionPanelSummary\n                                expandIcon={<ExpandMoreIcon />}\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <Typography>General Options</Typography>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <FormControl >\n                                    <InputLabel htmlFor=\"age-native-simple\">Interval</InputLabel>\n                                    <Select\n                                        native\n                                        value={this.state.interval}\n                                        onChange={this.handleIntervalChange}\n                                        inputProps={{\n                                            name: 'Interval',\n                                            id: 'age-native-simple',\n                                        }}\n                                    >\n                                        {this.createIntervalOptions()}\n                                    </Select>\n                                </FormControl>\n\n                                {this.state.cameraActive &&\n                                    <FormControlLabel\n                                        control={\n                                            <Checkbox checked={this.state.hdr} onChange={this.toggleHdr} />\n                                        }\n                                        label=\"HDR\"\n                                    />\n                                }\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n\n                        <ExpansionPanel>\n                            <ExpansionPanelSummary\n                                expandIcon={<ExpandMoreIcon />}\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <Typography>Panorama Options</Typography>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <PanoramaOptions rows={this.state.rows} handleRowChange={this.handleRowChange} />\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n\n\n                        {this.state.rows.length > 0 &&\n                            <Button variant=\"outlined\" onClick={this.panorama} component={Link} to=\"/runningPanorama\" >\n                                Start\n              </Button>\n                        }</div>\n                }\n            </div>\n        </div>\n        );\n    }\n}\n\nconst PanoramaWithSocket = (props) => (\n    <SocketContext.Consumer>\n        {socket => <Panorama {...props} socket={socket} />}\n    </SocketContext.Consumer>\n)\n\nexport default PanoramaWithSocket;","import React from 'react';\nimport Header from '../../components/Header/Header';\nimport {SocketContext} from '../../services/SocketProvider';\nimport TimelapseCamControls from '../../components/TimelapseCamControls/TimelapseCamControls';\nimport GeneralOptions from '../../components/TimelapseOptions/TimelapseOptions';\nimport TimelapsePoints from '../../components/TimelapsePoints/TimelapsePoints';\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Button from '@material-ui/core/Button';\n\nclass Movie extends React.Component {\n    constructor(props) {\n        super(props);\n        this.toggleCamera = this.toggleCamera.bind(this);\n        this.activateCamera = this.activateCamera.bind(this);\n        this.toggleBrightnesscontrol = this.toggleBrightnesscontrol.bind(this);\n        this.camControlsOk = this.camControlsOk.bind(this);\n        this.pointsOk = this.pointsOk.bind(this);\n        this.calculateSliders = this.calculateSliders.bind(this);\n        this.state = {\n            hasCamera: false,\n            cameraActive: false,\n            brightnessControl: false,\n            camControlsOk: false,\n            pointsOk: false,\n            interval: 10,\n            recordingTime: 6000,\n            movieTime: 12\n        };\n\n        /*socket.on('hasCamera', data => {\n            this.setState({\n                cameraActive: data.hasCamera\n            })\n            this.setState({\n                hasCamera: data.hasCamera\n            })\n        })*/\n    }\n    \n\n    componentDidMount() {\n        this.activateCamera();\n    }\n\n    activateCamera() {\n        //socket.emit('requestCamera');\n\n        \n    }\n\n    toggleCamera() {\n        if (this.state.cameraActive) {\n            this.setState({\n                cameraActive: !this.state.cameraActive\n            });\n        } else {\n            this.activateCamera();\n        }\n    }\n\n    toggleBrightnesscontrol() {\n        this.setState({\n            brightnessControl: !this.state.brightnessControl\n        });\n\n    }\n\n    camControlsOk(ok) {\n        this.setState({\n            camControlsOk: ok\n        });\n    }\n\n    pointsOk(amount) {\n        this.setState({\n            pointsOk: (amount > 1)\n        });\n    }\n\n    calculateSliders(disabled, type, value) {\n        var dynamicValue;\n\n        if (disabled === 'interval' && type === 'recordingTime') {\n            dynamicValue = (value / this.state.interval) / 25\n            this.setState({\n                recordingTime: value\n            })\n            this.setState({\n                movieTime: dynamicValue\n            })\n        } else if (disabled === 'interval' && type === 'movieTime') {\n            dynamicValue = (value * 25) * this.state.interval;\n            this.setState({\n                movieTime: value\n            })\n            this.setState({\n                recordingTime: dynamicValue\n            })\n        } else if (disabled === 'recordingTime' && type === 'interval') {\n            dynamicValue = (this.state.recordingTime / value) / 25;\n            this.setState({\n                interval: value\n            })\n            this.setState({\n                movieTime: dynamicValue\n            })\n        } else if (disabled === 'recordingTime' && type === 'movieTime') {\n            dynamicValue = this.state.recordingTime / (value * 25);\n            this.setState({\n                movieTime: value\n            })\n            this.setState({\n                interval: dynamicValue\n            })\n        } else if (disabled === 'movieTime' && type === 'interval') {\n            dynamicValue = this.state.movieTime * value * 25;\n            this.setState({\n                interval: value\n            })\n            this.setState({\n                recordingTime: dynamicValue\n            })\n        } else if (disabled === 'movieTime' && type === 'recordingTime') {\n            dynamicValue = value / (this.state.movieTime * 25)\n            this.setState({\n                recordingTime: value\n            })\n            this.setState({\n                interval: dynamicValue\n            })\n        }\n    }\n\n\n\n    render() {\n        return (<div >\n            <Header title=\"Timelapse\"\n                cameraActive={\n                    this.state.cameraActive\n                }\n                hasCamera={\n                    this.state.hasCamera\n                }\n                toggleCamera={\n                    this.toggleCamera\n                }\n                backButton={true}\n            /> {\n                this.state.cameraActive &&\n                <TimelapseCamControls brightnessControl={\n                        this.state.brightnessControl\n                    }\n                    toggleBrightnesscontrol={\n                        this.toggleBrightnesscontrol\n                    }\n                    camControlsOk={\n                        this.camControlsOk\n                    }\n                    /*socket={\n                        socket\n                    }*/\n                />\n            } {\n                (!this.state.brightnessControl || (this.state.brightnessControl && this.state.camControlsOk)) &&\n                <div>\n                    <ExpansionPanel>\n        <ExpansionPanelSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Typography>General Options</Typography>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n        <GeneralOptions interval={\n                        this.state.interval\n                    }\n                    recordingTime={\n                        this.state.recordingTime\n                    }\n                    movieTime={\n                        this.state.movieTime\n                    }\n                    calculateSliders={\n                        this.calculateSliders\n                    }\n                />\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n\n      <ExpansionPanel>\n        <ExpansionPanelSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Typography>Timelapse Points</Typography>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n        <TimelapsePoints /*socket={socket}*/ handlePointsChange={this.pointsOk}/>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n                </div>}\n                {this.state.pointsOk && this.camControlsOk &&\n                <Button variant=\"outlined\">\n                Start\n              </Button>\n                }\n                </div>\n        );\n    }\n}\n\nexport default Movie;","import React from 'react';\nimport SocketContext from '../../services/SocketProvider';\nimport {\n    LineChart, Line, ReferenceLine\n  } from 'recharts';\n\nclass TimelapseGraph extends React.Component {\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            data: [],\n            progress: 0\n        };\n    }\n\n    componentDidMount(){\n        var array = []\n        this.props.waypoints.forEach(function(waypoint) {\n\n            var o = Object.assign({}, waypoint);\n            array.push(o)\n        });\n        \n        this.setState({data: array});\n\n        this.props.socket.on('progress', (data) => {\n            this.setState({progress: data.value})\n        })\n    }\n\n\n\n    render() {\n        \n        return (<div >\n            <LineChart width={300} height={100} data={this.state.data}>\n        <Line type=\"monotone\" dot={false} dataKey=\"1\" stroke=\"#006992\" strokeWidth={2} />\n        <Line type=\"monotone\" dot={false} dataKey=\"2\" stroke=\"#ECA400\" strokeWidth={2} />\n        <ReferenceLine x={this.state.progress} stroke=\"red\" />\n      </LineChart>\n        </div>\n        );\n    }\n}\n\nconst TimelapseGraphWithSocket = (props) => (\n    <SocketContext.Consumer>\n      {socket => <TimelapseGraph {...props} socket={socket} />}\n    </SocketContext.Consumer>\n)\n\nexport default TimelapseGraphWithSocket;","import React from 'react';\nimport {\n    PieChart, Pie, Cell,\n} from 'recharts';\nimport SocketContext from '../../services/SocketProvider';\n\nclass PanoramaGraph extends React.Component {\n    constructor(props) {\n        super(props);\n        this.retake = this.retake.bind(this);\n\n        this.state = {\n            data: [],\n            progress: 0,\n            progressState: [],\n        };\n    }\n\n    componentDidMount() {\n        var array = []\n        var progressArray = []\n        var count = 0;\n        this.props.config.forEach(function (waypoint) {\n            //console.log(waypoint);\n            var row = []\n            for (var i = 0; i < waypoint[0]; i++) {\n                var o = Object.assign({ 'image': count, 'angle': waypoint[1], 'innerIndex': i, 'value': 1 });\n                count++;\n                console.log(o);\n                row.push(o);\n                progressArray.push(false);\n            }\n            array.push(row);\n        });\n\n        progressArray[0] = true;\n\n        this.setState({ data: array });\n        this.setState({progressState: progressArray})\n\n\n        this.props.socket.on('progress', data => {\n            var newProgressArray = this.state.progressState;\n            newProgressArray[data.value] = true;\n            this.setState({\n                progressState: newProgressArray\n            })\n        })\n    \n    }\n\n    retake(photo, totalInRow){\n        var angle = photo[1];\n        var index = photo[0];\n        console.log(angle + \" \" + index + \" \" + totalInRow);\n        this.props.socket.emit('retakePanoPicture', {\n            angle: angle,\n            index: index,\n            totalInRow: totalInRow\n        })\n    }\n\n    generatePies() {\n        var pies = [];\n\n        for (var i = 0; i < this.state.data.length; i++) {\n            var pieData = this.state.data[i];\n            pies.push(<Pie key={i} data={pieData} dataKey=\"value\" cx={155} cy={150} outerRadius={25 * (i + 1)} innerRadius={25 * (i + 1) - 20} paddingAngle={0} fill=\"#8884d8\"> \n            {   this.generateCells(pieData)\n                //pieData.map((entry, index, arr) => <Cell key={index} onClick={() => this.retake(entry, arr.length)} fill={this.state.progressState[entry] ? '#0088FE' : '#00C49F'}/>)\n            } </Pie>);\n        }\n        return pies;\n    }\n\n    generateCells(pieData){\n        var cells = []\n\n        for(var j = 0; j < pieData.length; j++){\n            let imageIndex = pieData[j].image;\n            let image = [pieData[j].innerIndex, pieData[j].angle];\n            console.log(image);\n            let rowLength = pieData.length;\n            cells.push(<Cell key={imageIndex} onClick={() => this.retake(image, rowLength)} fill={this.state.progressState[imageIndex] ? '#00C49F' : '#FF8042'}/>)\n        }\n\n        return cells;\n    }\n\n\n\n    render() {\n\n        return (<div >\n            <PieChart width={500} height={400}>\n        {this.generatePies()}\n        \n            </PieChart>\n        </div>\n        );\n    }\n}\n\nconst PanoramaGraphWithSocker = (props) => (\n    <SocketContext.Consumer>\n      {socket => <PanoramaGraph {...props} socket={socket} />}\n    </SocketContext.Consumer>\n)\n\nexport default PanoramaGraphWithSocker;","import React from 'react';\nimport Header from '../../components/Header/Header';\nimport SocketContext from '../../services/SocketProvider';\nimport TimelapseGraph from '../../components/TimelapseGraph/TimelapseGraph';\nimport PanoramaGraph from '../../components/PanoramaGraph/PanoramaGraph';\nimport Button from '@material-ui/core/Button';\nimport { withSnackbar } from 'notistack';\n\nclass Running extends React.Component {\n    constructor(props) {\n        super(props);\n        this.togglePause = this.togglePause.bind(this);\n        this.abort = this.abort.bind(this);\n        \n        this.state = {\n            maxProgress: 100,\n            waypoints: undefined,\n            amountPauses: 0,\n            panoConfig: undefined,\n            pause: false\n        };\n    }\n\n\n    componentDidMount() {\n        this.props.socket.on('progress', data => {\n            this.setState({\n                progress: data.value,\n                maxProgress: data.max\n            })\n        })\n        \n        this.props.socket.on('timelapseInfoResponse', data => {\n            console.log(\"hey\");\n            this.setState({\n                waypoints: data.waypoints\n            })\n        })\n\n        this.props.socket.on('panoramaInfoResponse', data => {\n            this.setState({\n                panoConfig: data.config\n            })\n        })\n\n        if(this.props.location.pathname === '/runningPanorama'){\n            this.props.socket.emit('panoramaInfo');\n        } else if (this.props.location.pathname === '/runningTimelapse'){\n            this.props.socket.emit('timelapseInfo');\n        }\n\n        this.props.socket.on('isBusy', (data) =>{\n            this.props.enqueueSnackbar('CamSlider is busy');\n            if(data.fromSingle) this.setState({pause: true})\n        })\n    }\n\n    componentWillUnmount(){\n        this.props.socket.removeAllListeners('progress');\n        this.props.socket.removeAllListeners('timelapseInfoResponse');\n        this.props.socket.removeAllListeners('panoramaInfoResponse');\n        this.props.socket.removeAllListeners('isBusy');\n    }\n\n    togglePause(){\n        this.setState({pause: !this.state.pause}, function(){\n            if(this.state.pause) this.props.socket.emit('pause');\n            else this.props.socket.emit('resume');\n        })\n    }\n\n    abort(){\n        this.props.socket.emit('abort');\n        if(this.props.type === 'timelapse') window.location.href = '/timelapse';\n        if(this.props.type === 'panorama') window.location.href = '/panorama';\n        if(this.props.type === 'movie') window.location.href = '/movie';\n    }\n\n\n\n    render() {\n        var type = this.props.type;\n        var title = type.charAt(0).toUpperCase() + type.slice(1)\n\n        const abortButtonStyle = {\n                border: 0,\n                borderRadius: 3,\n                color: 'red',\n                height: 30,\n                padding: '0 0',\n                marginTop: '2em',\n                position: 'absolute',\n                left: '1em',\n                top: '2.5em'\n          }\n        \n        return (<div >\n            <Header title={title + ' Progress'} /> \n            {this.props.type === 'timelapse' && this.state.waypoints !== undefined &&\n                <TimelapseGraph waypoints={this.state.waypoints}/>\n            }\n            {this.props.type === 'panorama' && this.state.panoConfig !== undefined &&\n            <div>\n                <PanoramaGraph config={this.state.panoConfig}/>\n                <Button variant=\"outlined\" onClick={this.togglePause}>{this.state.pause ? 'Resume' : 'Pause'}</Button>\n            </div>\n            }\n            <Button style={abortButtonStyle} color=\"secondary\" variant=\"outlined\" onClick={this.abort} >Abort</Button>\n            \n            \n        </div>\n        );\n    }\n}\n\nconst RunningWithSocket = (props) => (\n    <SocketContext.Consumer>\n      {socket => <Running {...props} socket={socket} />}\n    </SocketContext.Consumer>\n)\n\nexport default withSnackbar(RunningWithSocket);","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Menu from '../../pages/Menu/Menu';\nimport Timelapse from '../../pages/Timelapse/Timelapse';\nimport Panorama from '../../pages/Panorama/Panorama';\nimport Movie from '../../pages/Movie/Movie';\nimport Running from '../../pages/Running/Running';\nimport SocketContext from '../../services/SocketProvider';\n\nfunction Main(props) {\n\n  props.socket.on('status', function(data) {\n    switch(data.running){\n      case 'timelapse':\n        if(window.location.pathname != '/runningTimelapse') window.location.href = '/runningTimelapse';\n        console.log('timelapse running');\n        break;\n      case 'panorama':\n          if(window.location.pathname != '/runningPanorama') window.location.href = '/runningPanorama';\n        console.log('panorama running');\n        break;\n      case null:\n        console.log('nothing running');\n        break;\n      default:\n        break;\n    }\n  })\n  props.socket.emit('requestStatus');\n  \n  return (\n    <main>\n      <Switch>\n        <Route exact path=\"/\" component={Menu} />\n        <Route path=\"/timelapse\" component={Timelapse} />\n        <Route path=\"/panorama\" component={Panorama} />\n        <Route path=\"/movie\" component={Movie} />\n        <Route path={\"/runningTimelapse\"} render={(props) => <Running {...props} type={'timelapse'} />} />\n        <Route path={\"/runningPanorama\"} render={(props) => <Running {...props} type={'panorama'} />} />\n\n        {/*<Route\n          path=\"/timelapse\"\n          render={({ match: { url } }) => (\n            <>\n              <Route path={`${url}/`} component={Timelapse} exact />\n              <Route path={`${url}/running`} render={(props) => <Running {...props} type={'timelapse'} />} />\n              \n            </>\n          )}\n          />*/}\n\n      </Switch>\n      {/*<Redirect\n            to={{\n              pathname: \"/timelapse\"\n            }}\n          />*/}\n    </main>\n  );\n}\n\nconst MainWithSocket = (props) => (\n  <SocketContext.Consumer>\n      {socket => <Main {...props} socket={socket} />}\n  </SocketContext.Consumer>\n)\n\nexport default MainWithSocket;","import React from 'react';\nimport Main from './components/Main/Main';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport green from '@material-ui/core/colors/green';\nimport blue from '@material-ui/core/colors/blue';\nimport './App.css';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport io from 'socket.io-client';\nimport SocketContext from './services/SocketProvider'\nimport { SnackbarProvider } from 'notistack';\n\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: blue,\n    secondary: green,\n  },\n});\n\nfunction App() {\n  const socket = io(\"http://192.168.4.95:8000\");\n  return (\n    <div className=\"App\">\n      <SocketContext.Provider value={socket}>\n        <SnackbarProvider maxSnack={3} dense={true} anchorOrigin={{vertical: 'top', horizontal: 'center'}}>\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <MuiThemeProvider theme={theme}>\n          <Main />\n        </MuiThemeProvider>\n      </MuiPickersUtilsProvider>\n      </SnackbarProvider>\n      </SocketContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}